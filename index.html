<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Tab Title</title>
    <link rel="icon" href="./assets/favicon.png" type="image/png">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background: #fff;
            color: #333;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        body.dark-mode {
            background: #1a1a1a;
            color: #e0e0e0;
        }
        h1#pageTitle {
            font-size: 2.5rem;
            margin-top: 50px;
            margin-bottom: 20px;
            text-shadow: none;
        }
        p {
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        input {
            font-size: 1rem;
            padding: 10px;
            margin: 10px 0;
            width: 80%;
            max-width: 400px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: none;
            background: #fff;
            color: #333;
        }
        body.dark-mode input {
            background: #2a2a2a;
            color: #e0e0e0;
            border-color: #555;
        }
        button {
            font-size: 1rem;
            padding: 10px 20px;
            margin: 10px 0;
            background-color: #28a745; /* Green color */
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        button:hover {
            background-color: #218838; /* Darker green on hover */
            transform: translateY(-2px);
        }
        button:active {
            transform: translateY(0);
        }
        input:focus {
            outline: none;
            border-color: #2575fc;
        }
        /* Dark mode toggle button */
        #darkModeToggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: transparent;
            border: 2px solid #333;
            color: #333;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: border-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
        }
        body.dark-mode #darkModeToggle {
            border-color: #e0e0e0;
            color: #e0e0e0;
        }
        #darkModeToggle:hover {
            transform: translateY(-2px) scale(1.05);
        }
        #darkModeToggle svg {
            width: 24px;
            height: 24px;
        }
        /* Quick add buttons */
        .quick-add-buttons {
            margin-top: 15px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        .quick-add-btn {
            font-size: 0.9rem;
            padding: 8px 16px;
            background-color: #6c757d;
            margin: 0;
        }
        .quick-add-btn:hover {
            background-color: #5a6268;
        }
        /* Reset button */
        .reset-btn {
            background-color: #007bff;
            margin-left: 10px;
        }
        .reset-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <!-- Dark mode toggle button -->
    <button id="darkModeToggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode">
        <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <circle cx="12" cy="12" r="5" stroke-width="2"/>
            <line x1="12" y1="1" x2="12" y2="3" stroke-width="2"/>
            <line x1="12" y1="21" x2="12" y2="23" stroke-width="2"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke-width="2"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke-width="2"/>
            <line x1="1" y1="12" x2="3" y2="12" stroke-width="2"/>
            <line x1="21" y1="12" x2="23" y2="12" stroke-width="2"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke-width="2"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke-width="2"/>
        </svg>
        <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="display: none;">
            <path stroke-width="2" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
    </button>

    <h1 id="pageTitle">Change the Tab Title</h1>
    <p>Enter a new title and click the button to update:</p>
    <input type="text" id="titleInput" placeholder="Enter new title here">
    <br>
    <button onclick="changeTitle()">Update Title</button>
    <button class="reset-btn" onclick="resetTitle()">Reset</button>

    <!-- Quick add buttons -->
    <div class="quick-add-buttons">
        <button class="quick-add-btn" onclick="addText('working')">+ working</button>
        <button class="quick-add-btn" onclick="addText('personal')">+ personal</button>
        <button class="quick-add-btn" onclick="addText('1')">+ 1</button>
        <button class="quick-add-btn" onclick="addText('2')">+ 2</button>
    </div>

    <script>
        function changeTitle() {
            const input = document.getElementById('titleInput').value;
            const newTitle = input || 'Change the Tab Title';
            document.title = newTitle;
            document.getElementById('pageTitle').textContent = newTitle;
            localStorage.setItem('tabTitle', newTitle);
        }

        function addText(text) {
            const input = document.getElementById('titleInput');
            const currentValue = input.value;
            // Add space before the text if there's already content
            const newValue = currentValue ? currentValue + ' ' + text : text;
            input.value = newValue;
            input.focus();
        }

        function resetTitle() {
            const defaultTitle = 'Change the Tab Title';
            document.getElementById('titleInput').value = defaultTitle;
            document.title = defaultTitle;
            document.getElementById('pageTitle').textContent = defaultTitle;
            localStorage.setItem('tabTitle', defaultTitle);
        }

        function toggleDarkMode() {
            const body = document.body;
            const sunIcon = document.getElementById('sunIcon');
            const moonIcon = document.getElementById('moonIcon');
            
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                sunIcon.style.display = 'none';
                moonIcon.style.display = 'block';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                sunIcon.style.display = 'block';
                moonIcon.style.display = 'none';
                localStorage.setItem('darkMode', 'disabled');
            }
        }

        document.getElementById('titleInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                changeTitle();
            }
        });

        window.addEventListener('DOMContentLoaded', function() {
            const savedTitle = localStorage.getItem('tabTitle') || 'Change the Tab Title';
            document.title = savedTitle;
            document.getElementById('pageTitle').textContent = savedTitle;
            document.getElementById('titleInput').value = savedTitle;

            // Load dark mode preference
            const darkMode = localStorage.getItem('darkMode');
            if (darkMode === 'enabled') {
                document.body.classList.add('dark-mode');
                document.getElementById('sunIcon').style.display = 'none';
                document.getElementById('moonIcon').style.display = 'block';
            }
        });
    </script>
</body>
</html>
